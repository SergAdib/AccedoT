{"version":3,"sources":["Footer.js"],"names":["expand","index","id","getAttribute","toString","slice","scope","angular","element","document","getElementById","$apply","popupme","window","addEventListener","e","console","log","updateHistory","$","on","carousel","prop","trigger","unbind","ready","focusit","obj","setTimeout","focus","histbtn","event","dropdown","target","children","clearbtn","links","find","keydown","which","this","click","off","length","stopPropagation","each","closebtn","play","progress","mute","volume","sized","preventDefault","mylink","leftControl","rightControl","firstSlide","lastSlide","bind","activeSlider","slides","css","push","first","onload","m2","time","t","parseTime","Math","floor","st","h","m","s","video","cTime","tTime","paused","innerHTML","pause","muted","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","duration","value","currentTime"],"mappings":"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","file":"Footer.js","sourcesContent":["'use strict';\n\n// @Some tuning up after all scripts\n//import {playerControls} from './playercontrols'\n\n// // Autoexec History update initiation before page closing/leaving, both to localStorage and DB\nwindow.addEventListener('beforeunload', function (e) {\n  console.log('Leaving the page');\n  var scope = angular.element(document.getElementById(\"historywrapper\")).scope();\n  scope.$apply(function () {\n    scope.updateHistory();\n  });\n});\n\n// // Return an element index in scope and expand detailed popup/modal\nfunction expand(index) {\n  var id = index.getAttribute(\"href\").toString();\n  id = id.slice(1);\n  var scope = angular.element(document.getElementById(\"MovieCarousel\")).scope();\n  scope.$apply(function () {\n    scope.expand(id);\n  });\n  return false;\n};\n\n// // Expand detailed popup/modal from history dropdowns\nfunction popupme(index) {\n  var scope = angular.element(document.getElementById(\"MovieCarousel\")).scope();\n  scope.$apply(function () {\n    scope.expand(index);\n  });\n  return false;\n};\n\n// // Carousel pause / cycle upon modal events\n$('#MovieModal').on('show.bs.modal', function () {\n  $('#MovieCarousel').carousel('pause');\n});\n$('#MovieModal').on('hidden.bs.modal', function () {\n  $('#MovieCarousel').carousel('cycle');\n  //$(\"#mmVideo\")[0].pause(); // that works as well as trigger below\n  if (!$(\"#mmVideo\").prop('paused')) $(\"#mmVideo\").trigger('pause');\n  $(\"#mmVideo\").unbind('pause');\n  $(\"#mmVideo\").unbind('ended');\n});\n\n// // Navigation for modals && body\n$().ready(function () {\n  // Helper function for focusing\n  function focusit(obj) {\n    return setTimeout(function () {\n      obj.focus();\n      //console.log('Focus transferred to:', obj);\n    }, 10);\n  };\n\n  // Binding focus handlers to History elements\n  var histbtn = $('#dropdownHistory');\n  $(\".dropdown\").on(\"show.bs.dropdown\", function (event) {\n    var dropdown = $(event.target).children('ul.dropdown-menu');\n    var clearbtn = dropdown.children('li.btn.btn-warning');\n    var links = dropdown.children('div#dropHistoryContent').children('li').find('span.btn.btn-link');\n    focusit(clearbtn);\n    // history clear button\n    clearbtn.keydown(function (e) {\n      if (e.which == 13) {\n        this.click().off('click');\n        focusit(histbtn);\n      };\n      if (e.which == 38) {\n        if (links.length != 0) focusit(links[links.length - 1]);\n      };\n      if ((e.which == 40 || e.which == 9) && links.length != 0) {\n        e.stopPropagation();\n        focusit(links[0]);\n      };\n    });\n    // movie instances events\n    if (links.length > 0) {\n      links.each(function (index) {\n        $(this).keydown(function (e) {\n          if (e.which == 13) {\n            this.click();\n            //.off('click');\n          };\n          if (e.which == 38) {\n            if (index != 0) {\n              focusit(links[index - 1]);\n            } else {\n              focusit(clearbtn);\n            }\n          };\n          if (e.which == 40 || e.which == 9) {\n            e.stopPropagation();\n            if (index < links.length - 1) {\n              focusit(links[index + 1]);\n            } else {\n              focusit(clearbtn);\n            }\n          };\n        });\n      });\n    }\n  });\n  $(\".dropdown\").on(\"hidden.bs.dropdown\", function (event) {\n    focusit(histbtn);\n  });\n\n  // Binding focus handlers for movie box\n  $('#MovieModal').on('shown.bs.modal', function () {\n    var closebtn = $('.modal-footer>button');\n    var play = $('#mmPlay'),\n        progress = $('#mmProgress'),\n        mute = $('#mmMute'),\n        volume = $('#mmVolume'),\n        sized = $('#mmFull');\n    focusit(play);\n\n    // Controls\n    play.keydown(function (e) {\n      if (e.which == 9 || e.which == 39) {\n        e.preventDefault();\n        focusit(progress);\n      }\n      if (e.which == 37) {\n        focusit(closebtn);\n      }\n    });\n    progress.keydown(function (e) {\n      if (e.which == 39 || e.which == 9) {\n        e.preventDefault();\n        focusit(mute);\n      }\n      if (e.which == 37) {\n        e.preventDefault();\n        focusit(play);\n      }\n    });\n    mute.keydown(function (e) {\n      if (e.which == 9 || e.which == 39) {\n        e.preventDefault();\n        focusit(volume);\n      }\n      if (e.which == 37) {\n        focusit(progress);\n      }\n    });\n    volume.keydown(function (e) {\n      if (e.which == 39 || e.which == 9) {\n        e.preventDefault();\n        focusit(sized);\n      }\n      if (e.which == 37) {\n        e.preventDefault();\n        focusit(mute);\n      }\n    });\n    sized.keydown(function (e) {\n      if (e.which == 9 || e.which == 39) {\n        e.preventDefault();\n        focusit(closebtn);\n      }\n      if (e.which == 37) {\n        focusit(volume);\n      }\n    });\n\n    // Close modal button\n    closebtn.keydown(function (e) {\n      e.stopPropagation();\n      if (e.which == 40 || e.which == 39 || e.which == 9) {\n        focusit(play);\n      }\n      if (e.which == 37 || e.which == 38) {\n        focusit(sized);\n      }\n    });\n  });\n  $('#MovieModal').on('hide.bs.modal', function () {\n    focusit(histbtn); // temporary\n  });\n\n  // Other body active elements events\n  var mylink = $('#myRepLink');\n  var leftControl = $('a.left.carousel-control');\n  var rightControl = $('a.right.carousel-control');\n\n  histbtn.keydown(function (e) {\n    e.stopPropagation();\n    if (e.which == 38 || e.which == 40) {\n      e.preventDefault();\n      focusit(mylink);\n    }\n    if (e.which == 37 || e.which == 9) {\n      focusit(leftControl);\n    }\n    if (e.which == 39) {\n      focusit(rightControl);\n    }\n  });\n  mylink.keydown(function (e) {\n    if (e.which == 38 || e.which == 40 || e.which == 9) {\n      e.preventDefault();\n      focusit(histbtn);\n    }\n    if (e.which == 37) {\n      focusit(leftControl);\n    }\n    if (e.which == 39) {\n      focusit(rightControl);\n    }\n  });\n  leftControl.keydown(function (e) {\n    if (e.which == 38) {\n      focusit(histbtn);\n    }\n    if (e.which == 40) {\n      focusit(mylink);\n    }\n    if (e.which == 39 || e.which == 9) {\n      e.stopPropagation();\n      $('#MovieCarousel').carousel('pause');\n      focusit(firstSlide);\n      return false;\n    }\n  });\n  rightControl.keydown(function (e) {\n    if (e.which == 38) {\n      focusit(histbtn);\n    }\n    if (e.which == 40) {\n      focusit(mylink);\n    }\n    if (e.which == 37) {\n      e.stopPropagation();\n      $('#MovieCarousel').carousel('pause');\n      focusit(lastSlide);\n      return false;\n    }\n  });\n  // Binding focus hadlers to slides\n  var firstSlide = '';\n  var lastSlide = '';\n\n  $('#MovieCarousel').bind('slid.bs.carousel', function (event) {\n    var activeSlider = $('div.item.active').children();\n    var slides = [];\n    $.each(activeSlider, function () {\n      if ($(this).css('display') == 'block') slides.push($(this).children('a').first());\n    });\n    firstSlide = slides[0];\n    lastSlide = slides[slides.length - 1];\n    $.each(slides, function (index) {\n      $(this).keydown(function (e) {\n        e.stopPropagation();\n        if ((e.which == 39 || e.which == 9) && index != slides.length - 1) {\n          focusit(slides[index + 1]);\n          return false;\n        }\n        if ((e.which == 39 || e.which == 9) && (index = slides.length - 1)) {\n          $('#MovieCarousel').carousel('cycle');\n          focusit(rightControl);\n          return false;\n        }\n        if (e.which == 37 && index != 0) {\n          focusit(slides[index - 1]);\n          return false;\n        }\n        if (e.which == 37 && (index = 1)) {\n          $('#MovieCarousel').carousel('cycle');\n          focusit(leftControl);\n          return false;\n        }\n      });\n    });\n  });\n});\n\n// @@Custom player controls for video player\n\nwindow.onload = function () {\n  var video = document.getElementById('mmVideo');\n  var play = document.getElementById('mmPlay');\n  var cTime = document.getElementById('mmCurrentTime');\n  var tTime = document.getElementById('mmTotalTime');\n  var progress = document.getElementById('mmProgress');\n  var mute = document.getElementById('mmMute');\n  var volume = document.getElementById('mmVolume');\n  var sized = document.getElementById('mmFull');\n\n  // Play/Pause cycle\n  play.addEventListener(\"click\", function () {\n    if (video.paused) {\n      video.play();\n      play.innerHTML = '<span class=\"glyphicon glyphicon-pause\" aria-hidden=\"false\"></span>';\n      //setTimeout(function(){cTime.innerHTML = parseTime(video.currentTime)},1000); // or move to timeupdate listener below\n    } else {\n      video.pause();\n      play.innerHTML = '<span class=\"glyphicon glyphicon-play\" aria-hidden=\"false\"></span>';\n    }\n  });\n\n  // Volume on / off checker\n  mute.addEventListener(\"click\", function () {\n    if (video.muted) {\n      video.muted = false;\n      mute.innerHTML = '<span class=\"glyphicon glyphicon-volume-up\" aria-hidden=\"false\"></span>';\n    } else {\n      video.muted = true;\n      mute.innerHTML = '<span class=\"glyphicon glyphicon-volume-off\" aria-hidden=\"false\"></span>';\n    }\n  });\n\n  // Full screen on / off checker\n  sized.addEventListener(\"click\", function () {\n    if (video.requestFullscreen) {\n      video.requestFullscreen();\n    } else if (video.mozRequestFullScreen) {\n      video.mozRequestFullScreen();\n    } else if (video.webkitRequestFullscreen) {\n      video.webkitRequestFullscreen();\n    }\n  });\n\n  // Movie progress bar tracking / adjustment\n  progress.addEventListener(\"change\", function () {\n    var time = video.duration * (progress.value / 100);\n    video.currentTime = time;\n  });\n  progress.addEventListener(\"mousedown\", function () {\n    if (!video.paused) {\n      video.pause(); // to prevent stuck on dragging\n      play.innerHTML = '<span class=\"glyphicon glyphicon-play\" aria-hidden=\"false\"></span>';\n    }\n  });\n  progress.addEventListener(\"mouseup\", function () {\n    if (video.paused) {\n      video.play();\n      play.innerHTML = '<span class=\"glyphicon glyphicon-pause\" aria-hidden=\"false\"></span>';\n    }\n  });\n  video.addEventListener(\"timeupdate\", function () {\n    var value = 100 / video.duration * video.currentTime;\n    cTime.innerHTML = parseTime(video.currentTime);\n    tTime.innerHTML = parseTime(video.duration);\n    progress.value = value;\n  });\n\n  // Volume bar low / high\n  volume.addEventListener(\"change\", function () {\n    video.volume = volume.value;\n  });\n\n  // Helper for time tracking\n  function m2(time) {\n    var t = time;\n    if (t < 10 && t > 0) t = '0' + t;\n    if (t == 0) t = '00';\n    return t;\n  }\n  function parseTime(time) {\n    time = Math.floor(time);\n    var st = '';\n    var h = 0,\n        m = 0,\n        s = 0;\n    if (time > 3600) {\n      h = Math.floor(time / 3600);\n      h = m2(h);\n      time -= 3600 * h;\n      st += h + ':';\n    } else {\n      st += '00:';\n    }\n    if (time > 60) {\n      m = Math.floor(time / 60);\n      m = m2(m);\n      time -= 60 * m;\n      st += m + ':';\n    } else {\n      st += '00:';\n    }\n    s = Math.floor(time);\n    s = m2(s);\n    st += s;\n    return st;\n  }\n};\n\n// EOF"],"sourceRoot":"/source/"}